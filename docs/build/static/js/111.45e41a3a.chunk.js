"use strict";(self.webpackChunkproblem2=self.webpackChunkproblem2||[]).push([[111],{1111:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var n=t(5043),u=t(8012),a=t(8158),l=t(1906),s=t(1637),i=t(579);const c=function(){const[e,r]=(0,n.useState)(),[t,c]=(0,n.useState)({}),[o,p]=(0,n.useState)(!1),[v,h]=(0,n.useState)(null),f=(0,n.useRef)(""),d=(0,n.useRef)(""),b=(0,n.useRef)(""),[m,x]=(0,n.useState)({}),[N,g]=(0,n.useState)({});(0,n.useEffect)((()=>{fetch("https://interview.switcheo.com/prices.json").then((e=>e.json())).then((e=>{r(e)}))}),[]);var j=[];return e&&(j=e.map(((e,r)=>({id:r+1,currency:e.currency,label:e.currency,price:e.price})))),(0,i.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),p(!0),setTimeout((()=>{console.log(f.current.value),console.log(b.current.value),console.log(d.current.value),f.current.value="",d.current.value="",c({}),h(null),p(!1)}),2e3)},children:[(0,i.jsx)("h4",{children:"Swap from USD"}),(0,i.jsx)(u.A,{label:"Amount to send",variant:"outlined",sx:{width:300},type:"number",onChange:e=>{let r=Number(e.target.value);if(isNaN(r)||r<0)x({error:!0,helperText:"Please enter a valid non-negative number"}),d.current.value="";else if(x({error:!1}),t&&t.price){let e=Math.round(r*t.price*100)/100;d.current.value=isNaN(e)?"":e}},inputRef:f,error:m.error,helperText:m.helperText,value:f.current.value||"",InputLabelProps:f.current.value?{shrink:!0}:{shrink:!1}}),(0,i.jsx)("br",{}),(0,i.jsx)(a.A,{options:j,getOptionKey:e=>e.id,isOptionEqualToValue:(e,r)=>e.currency===r.currency,onChange:(e,r)=>{if(c(r),h(r),r&&r.price)if(f.current.value){let e=Math.round(f.current.value*r.price*100)/100;d.current.value=isNaN(e)?"":e}else if(d.current.value){let e=Math.round(d.current.value/r.price*100)/100;f.current.value=isNaN(e)?"":e}},value:v,sx:{width:300,marginTop:2},renderInput:e=>(0,i.jsx)(u.A,{...e,label:"Currency",inputRef:b})}),(0,i.jsx)("br",{}),(0,i.jsx)(u.A,{label:"Amount to receive",variant:"outlined",sx:{width:300,marginBottom:2},type:"number",onChange:e=>{let r=Number(e.target.value);if(isNaN(r)||r<0)g({error:!0,helperText:"Please enter a valid non-negative number"}),f.current.value="";else if(g({error:!1}),t&&t.price){let e=Math.round(r/t.price*100)/100;f.current.value=isNaN(e)?"":e}},inputRef:d,error:N.error,helperText:N.helperText,value:d.current.value||"",InputLabelProps:d.current.value?{shrink:!0}:{shrink:!1}}),(0,i.jsx)("br",{}),(0,i.jsx)(l.A,{variant:"contained",type:"submit",disabled:o,startIcon:o?(0,i.jsx)(s.A,{size:20}):null,children:o?"PROCESSING...":"CONFIRM SWAP"})]})}}}]);
//# sourceMappingURL=111.45e41a3a.chunk.js.map